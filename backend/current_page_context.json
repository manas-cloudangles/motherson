{
  "last_updated": "2026-01-27T13:31:55.039754+00:00",
  "current_state": {
    "html": "<div class=\"page-container\">\n  <header class=\"header\">\n    <div class=\"header-content\">\n      <h1 class=\"header-title\">Date Range Manager</h1>\n    </div>\n  </header>\n  \n  <main class=\"main-content\">\n    <div class=\"date-range-container\">\n      <div class=\"date-range-header\">\n        <h2 class=\"section-title\">Select Date Range</h2>\n      </div>\n      \n      <form [formGroup]=\"rangeForm\" (ngSubmit)=\"updateDateRange()\">\n        <div class=\"date-inputs\">\n          <div class=\"date-input-group\">\n            <label for=\"start-date\" class=\"date-label\">Start Date</label>\n            <input type=\"date\" id=\"start-date\" class=\"date-input\" formControlName=\"start\" />\n          </div>\n          \n          <div class=\"date-input-group\">\n            <label for=\"end-date\" class=\"date-label\">End Date</label>\n            <input type=\"date\" id=\"end-date\" class=\"date-input\" formControlName=\"end\" />\n          </div>\n        </div>\n        \n        <div class=\"button-container\">\n          <button class=\"update-button\" type=\"submit\" [disabled]=\"rangeForm.invalid\">Update Date Range</button>\n        </div>\n      </form>\n    </div>\n  </main>\n  \n  <footer class=\"footer\">\n    <div class=\"footer-content\">\n      <p class=\"footer-text\">Â© 2024 Date Range Manager. All rights reserved.</p>\n    </div>\n  </footer>\n</div>",
    "scss": ".page-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background-color: #f5f7fa;\n}\n\n.header {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 1.5rem 0;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n}\n\n.header-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  text-align: center;\n}\n\n.header-title {\n  font-size: 2rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.main-content {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3rem 2rem;\n}\n\n.date-range-container {\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 8px 30px rgba(0,0,0,0.12);\n  padding: 2.5rem;\n  max-width: 600px;\n  width: 100%;\n}\n\n.date-range-header {\n  text-align: center;\n  margin-bottom: 2rem;\n}\n\n.section-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #333;\n  margin: 0;\n}\n\n.date-inputs {\n  display: flex;\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.date-input-group {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.date-label {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: #555;\n  margin-bottom: 0.5rem;\n}\n\n.date-input {\n  padding: 0.75rem;\n  border: 2px solid #e1e8ed;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: border-color 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #667eea;\n  }\n}\n\n.button-container {\n  text-align: center;\n}\n\n.update-button {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  padding: 0.875rem 2rem;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n}\n\n.footer {\n  background-color: #2c3e50;\n  color: white;\n  padding: 1.5rem 0;\n  margin-top: auto;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  text-align: center;\n}\n\n.footer-text {\n  margin: 0;\n  font-size: 0.875rem;\n  opacity: 0.9;\n}\n\n@media (max-width: 768px) {\n  .date-inputs {\n    flex-direction: column;\n    gap: 1rem;\n  }\n  \n  .main-content {\n    padding: 2rem 1rem;\n  }\n  \n  .date-range-container {\n    padding: 1.5rem;\n  }\n}",
    "ts": "import { Component, OnInit, ChangeDetectionStrategy, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, ValidationErrors } from '@angular/forms';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { map, takeUntil, debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nexport function dateRangeValidator(g: FormGroup): ValidationErrors | null {\n  const start = g.get('start')?.value;\n  const end = g.get('end')?.value;\n  return start && end && new Date(start) > new Date(end) ? { range: true } : null;\n}\n\n@Component({\n  selector: 'app-date-range-page',\n  templateUrl: './date-range-page.component.html',\n  styleUrls: ['./date-range-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DateRangePageComponent implements OnInit, OnDestroy {\n  startDate: Date | null = null;\n  endDate: Date | null = null;\n  private readonly destroy$ = new Subject<void>();\n\n  readonly dateRange$ = new BehaviorSubject<{start: Date, end: Date} | null>(null);\n  readonly error$ = new BehaviorSubject<string | null>(null);\n\n  rangeForm: FormGroup;\n\n  constructor(private fb: FormBuilder) {\n    this.rangeForm = this.fb.group({\n      start: ['', Validators.required],\n      end: ['', Validators.required]\n    }, { validator: dateRangeValidator });\n  }\n\n  ngOnInit(): void {\n    const today = new Date();\n    const thirtyDaysAgo = new Date(today.getTime() - (30 * 24 * 60 * 60 * 1000));\n\n    this.startDate = thirtyDaysAgo;\n    this.endDate = today;\n\n    this.rangeForm.setValue({\n      start: this.formatDateForInput(thirtyDaysAgo),\n      end: this.formatDateForInput(today)\n    });\n\n    this.dateRange$.next({ start: thirtyDaysAgo, end: today });\n\n    this.rangeForm.valueChanges.pipe(\n      debounceTime(200),\n      distinctUntilChanged((a, b) => a.start === b.start && a.end === b.end),\n      takeUntil(this.destroy$)\n    ).subscribe(values => {\n      if (values.start && values.end) {\n        this.startDate = new Date(values.start);\n        this.endDate = new Date(values.end);\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  formatDateForInput(date: Date): string {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n  updateDateRange(): void {\n    if (this.rangeForm.invalid) { return; }\n    const { start, end } = this.rangeForm.value;\n    this.dateRange$.next({ start: new Date(start), end: new Date(end) });\n  }\n}"
  },
  "last_user_request": "Remove the current Date Range showing part"
}